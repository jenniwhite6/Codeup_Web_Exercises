<!DOCTYPE html>
<html>
<head>
	<title>AJAX Blog</title>
</head>
<body>
	<div id='posts'></div>

	<button>Update Posts</button>
</body>
<script src='/js/jquery.js' type="text/javascript"></script>
<script>

	var getPosts = function() {

		var posts = $.get('/data/blog.json');

		posts.done(function(data) {

			var postDeets = '';

			$(data).each(function(index, post) {

				console.log(post);

				postDeets += '<h1>' + post.title + '</h1>';
				postDeets += '<p>' + post.content + '</p>';
				postDeets += '<p>' + post.categories.join(', ') + '</p>';
				postDeets += '<p>' + post.date + '</p>'

			});

			$('#posts').html(postDeets);
		});
	};

	getPosts();

	$('button').click(getPosts);

</script>
</html>